# 2026年2月广西行 - 界面问题修复清单

> 基于 Playwright 端到端测试截图分析
> 测试日期：2026-01-28
> 测试设备：PC (1920x1080)、移动端 (375x667)、平板 (768x1024)

---

## 🔴 严重问题（P0 - 必须立即修复）

### 1. PC版：每日行程轮播图侵占右侧时间线区域
**位置**：每日行程 section (`.day-content`)
**问题描述**：
- 轮播图容器宽度超出了应有的 50% 分配，侵占了右侧时间线区域
- `grid-template-columns: 1fr 1fr` 定义了两列等宽，但轮播图实际宽度超过 50%
- 导致时间线内容被挤压或被轮播图遮挡

**修复方案**：
```css
/* 在 style.css 中修改 */
.day-content {
    display: grid;
    grid-template-columns: 1fr 1fr; /* 确保两列等宽 */
    gap: var(--spacing-xl);
    align-items: start;
    max-width: 100%; /* 防止溢出 */
}

.day-image-carousel {
    position: relative;
    border-radius: var(--radius-lg);
    overflow: hidden; /* 关键：防止内容溢出 */
    max-height: 800px;
    aspect-ratio: 16/9;
    min-height: 400px;
    width: 100%; /* 确保宽度不超过容器 */
    max-width: 100%; /* 双重保护 */
}
```

**影响范围**：所有 5 天的行程页面

---

### 2. 移动端：每日行程轮播图右侧超出边界
**位置**：每日行程 section (`.day-content`)
**问题描述**：
- 在移动端（375px 宽度），轮播图右侧超出屏幕边界
- 轮播图未正确响应移动端宽度限制
- 导致横向滚动或内容被截断

**修复方案**：
```css
/* 在移动端媒体查询中添加（@media (max-width: 768px)） */
.day-content {
    grid-template-columns: 1fr !important; /* 移动端改为单列布局 */
    gap: var(--spacing-lg);
}

.day-image-carousel {
    aspect-ratio: 16/9; /* 保持宽高比 */
    width: 100%;
    max-width: 100%;
    overflow: hidden; /* 防止溢出 */
}

/* 同时确保容器有正确的 padding */
.container {
    padding: 0 var(--spacing-md);
    max-width: 100%;
    overflow-x: hidden; /* 防止横向滚动 */
}

/* 移动端 body 添加防溢出 */
@media (max-width: 768px) {
    body {
        overflow-x: hidden;
    }
}
```

**影响范围**：所有移动端设备（< 768px）

---

### 3. 移动端：底部导航文字被截断
**位置**：页面底部
**问题描述**：
- "去广西晒晒太阳"文字在移动端右侧被截断（"阳"字不完整）
- 导航栏文字过长，超出移动端屏幕宽度

**修复方案**：
```css
/* 在移动端媒体查询中添加 */
@media (max-width: 768px) {
    .nav-container {
        padding: 0 var(--spacing-sm);
    }

    .nav-logo {
        font-size: 14px;
    }

    .nav-logo span {
        max-width: 150px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }
}
```

---

### 4. 移动端：轮播图左侧被裁切
**位置**：行程概览下方的轮播图
**问题描述**：
- 轮播图左侧边缘被裁切，第一张图片左上角被切掉
- 轮播图容器未正确处理边界

**修复方案**：
```css
/* 确保轮播容器有正确的 padding 和边距 */
@media (max-width: 768px) {
    .carousel-container {
        padding: 0;
        margin: 0;
        width: 100%;
        max-width: 100%;
        overflow: hidden;
    }

    .carousel-slides {
        width: 100%;
        max-width: 100%;
    }

    .carousel-slide {
        width: 100%;
        max-width: 100%;
    }

    .carousel-slide img {
        width: 100%;
        max-width: 100%;
        object-fit: cover; /* 确保图片正确填充 */
    }
}
```

---

## 🟠 中等问题（P1 - 应该尽快修复）

### 5. PC版：轮播图指示器（圆点）位置异常
**位置**：每日行程轮播图底部
**问题描述**：
- 红色圆点指示器位置不居中，偏向右侧
- 影响用户体验和视觉美观

**修复方案**：
```css
.carousel-indicators {
    position: absolute;
    bottom: var(--spacing-lg);
    left: 50%;
    transform: translateX(-50%); /* 确保水平居中 */
    display: flex;
    gap: var(--spacing-sm);
    z-index: 10;
    width: 100%; /* 确保宽度正确 */
    justify-content: center; /* 添加居中对齐 */
}
```

---

### 6. 移动端：顶部日期按钮宽度过大
**位置**：Hero 区域的日期标签
**问题描述**：
- "2026年2月"按钮宽度固定（约 240px），在窄屏设备上挤压左右留白
- 可能导致横向滚动

**修复方案**：
```css
@media (max-width: 768px) {
    .hero-tags {
        flex-direction: column;
        align-items: center;
        gap: var(--spacing-sm);
    }

    .hero-tags .tag {
        min-width: auto; /* 移除最小宽度限制 */
        padding: var(--spacing-sm) var(--spacing-md);
        font-size: 14px;
    }
}
```

---

### 7. 移动端：CTA 按钮触控区域不足
**位置**：Hero 区域的"开始探索"按钮
**问题描述**：
- 按钮左右内边距过小（< 16px），在手指操作时易误触相邻区域
- 不符合移动端可访问性标准（最小 44x44px）

**修复方案**：
```css
@media (max-width: 768px) {
    .hero-btn {
        padding: var(--spacing-md) var(--spacing-xl); /* 增加内边距 */
        min-width: 160px;
        min-height: 44px; /* 确保最小触控高度 */
        font-size: 16px;
    }
}
```

---

### 8. 移动端：字体层级混乱
**位置**：全站
**问题描述**：
- 主标题（32px）、副标题（16px）、按钮文字（18px）字号差过大
- 在小屏上副标题易被忽略
- 缺少 `line-height` 优化

**修复方案**：
```css
@media (max-width: 768px) {
    .hero-title {
        font-size: 28px;
        line-height: 1.3;
    }

    .hero-subtitle {
        font-size: 16px;
        line-height: 1.5;
        margin-bottom: var(--spacing-lg);
    }

    .day-title {
        font-size: 22px;
        line-height: 1.3;
    }

    .section-title {
        font-size: 24px;
        line-height: 1.3;
    }
}
```

---

### 9. 移动端：缺少横向滚动保护
**位置**：全站
**问题描述**：
- 全局未设置 `overflow-x: hidden`
- 多个固定宽度元素可能导致横向滚动

**修复方案**：
```css
/* 在 body 样式中添加 */
body {
    font-family: var(--font-chinese);
    font-size: 16px;
    line-height: 1.6;
    color: var(--dark-gray);
    background-color: var(--off-white);
    overflow-x: hidden; /* 防止横向滚动 */
}

/* 移动端额外保护 */
@media (max-width: 768px) {
    * {
        max-width: 100%;
        box-sizing: border-box;
    }

    img, video, iframe {
        max-width: 100%;
        height: auto;
    }
}
```

---

### 10. 移动端：快速导航列表占用空间过大
**位置**：地图导览区域
**问题描述**：
- "快速导航" 6 项列表在移动端占用大量垂直空间
- 无"展开/收起"交互，牺牲主内容可视区域

**修复方案**：
```css
@media (max-width: 768px) {
    /* 可选：添加折叠功能（需要 JS 支持） */
    .quick-nav-section {
        max-height: 200px;
        overflow-y: auto;
    }

    /* 或简化显示 */
    .quick-nav-item {
        padding: var(--spacing-sm) var(--spacing-md);
        font-size: 14px;
    }
}
```

---

## 🟡 轻微问题（P2 - 可以延后修复）

### 11. 全站：色彩系统不一致
**位置**：全站
**问题描述**：
- 主色调红色出现 3 种变体（标题红 #D32F2F、按钮红 #FF334D、图标红 #E53E3E）
- 地图标注标签背景色无分类逻辑
- 削弱专业感

**修复方案**：
```css
/* 在 CSS 变量中统一品牌色 */
:root {
    /* 统一主色调 */
    --brand-primary: #E53E3E;
    --brand-primary-dark: #C62828;
    --brand-primary-light: #FF8A80;
    --brand-primary-lighter: #FFEBEE;
}

/* 更新所有使用红色的地方 */
.hero-btn, .nav-link.active {
    background: var(--brand-primary);
}

.stat-icon, .indicator.active {
    background: var(--brand-primary);
}

.map-point i {
    color: var(--brand-primary);
}
```

---

### 12. 全站：间距和对齐问题
**位置**：全站
**问题描述**：
- 顶部地点标签与主标题之间垂直间距过大（约 48px）
- "行程概览"模块与下方地图之间留白过大（约 120px）
- 地图与"地图导览"标题间距过小（仅 24px）

**修复方案**：
```css
/* 优化间距 */
.hero-badge {
    margin-bottom: var(--spacing-md); /* 减小间距 */
}

@media (max-width: 768px) {
    .hero-badge {
        margin-bottom: var(--spacing-sm);
    }

    .overview-section {
        margin-top: -40px;
        padding-top: var(--spacing-lg);
    }
}

/* 统一使用 CSS 变量控制间距 */
:root {
    --section-spacing: var(--spacing-2xl);
}
```

---

### 13. 移动端：地图控件触控目标过小
**位置**：地图导览区域
**问题描述**：
- 地图缩放按钮、图层开关间距仅 4px
- 触控目标小于 44×44px 最小可点击区域标准
- 不符合 WCAG 2.1 可访问性标准

**修复方案**：
```css
@media (max-width: 768px) {
    .map-control {
        width: 44px !important;
        height: 44px !important;
        min-width: 44px;
        min-height: 44px;
        margin: 4px;
    }

    .map-controls {
        gap: 8px;
    }
}
```

---

### 14. 全站：图标与文字垂直居中不一致
**位置**：行程概览统计卡片
**问题描述**：
- "5 天数行程"图标偏上，文字偏下
- "2 城市覆盖"图标居中，文字靠下
- 视觉基线不统一

**修复方案**：
```css
.stat-item {
    text-align: center;
    padding: var(--spacing-lg);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center; /* 添加垂直居中 */
}

.stat-icon {
    width: 56px;
    height: 56px;
    margin: 0 auto var(--spacing-md);
    display: flex;
    align-items: center;
    justify-content: center; /* 确保图标居中 */
}

.stat-number {
    font-size: 36px;
    font-weight: 700;
    line-height: 1.2;
    margin-bottom: var(--spacing-xs);
}

.stat-label {
    font-size: 14px;
    line-height: 1.4;
}
```

---

## 🟢 优化建议（P3 - 可选改进）

### 15. 移动端：添加轮播图滑动提示
**位置**：每日行程轮播图
**问题描述**：
- 无滑动手势提示，用户无法感知可交互
- 移动端轮播图应支持触摸滑动

**修复方案**：
```css
/* 添加滑动提示动画 */
.carousel-container::after {
    content: '← 滑动查看更多 →';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(0, 0, 0, 0.7);
    color: white;
    padding: var(--spacing-sm) var(--spacing-md);
    border-radius: var(--radius-md);
    font-size: 14px;
    opacity: 0;
    animation: slideHint 3s ease-in-out;
    pointer-events: none;
    z-index: 20;
}

@keyframes slideHint {
    0%, 70% { opacity: 0; }
    75% { opacity: 1; }
    95% { opacity: 1; }
    100% { opacity: 0; }
}

/* JavaScript 中添加触摸滑动支持 */
/* 需要在 day-carousel.js 中实现 touchstart/touchmove/touchend 事件 */
```

---

### 16. 移动端：优化图片加载性能
**位置**：全站
**问题描述**：
- 移动端加载大量大尺寸图片
- 未使用懒加载优化

**修复方案**：
```html
<!-- 已在 HTML 中添加 loading="lazy" 属性 -->
<img src="..." alt="..." loading="lazy">

<!-- 可以进一步优化：使用 srcset 和 sizes -->
<img
    src="images/beihai/beihai-old-street-01.jpg"
    srcset="
        images/beihai/beihai-old-street-01-320w.jpg 320w,
        images/beihai/beihai-old-street-01-640w.jpg 640w,
        images/beihai/beihai-old-street-01-1024w.jpg 1024w
    "
    sizes="(max-width: 768px) 100vw, 50vw"
    alt="北海老街"
    loading="lazy"
>
```

---

### 17. 全站：添加无障碍支持
**位置**：全站
**问题描述**：
- 缺少 ARIA 标签
- 键盘导航支持不完善
- 屏幕阅读器支持不足

**修复方案**：
```html
<!-- 添加 ARIA 标签 -->
<nav class="navbar" role="navigation" aria-label="主导航">
    <button
        class="carousel-prev"
        aria-label="上一张图片"
        role="button"
    >
        <i class="fas fa-chevron-left" aria-hidden="true"></i>
    </button>

    <div class="carousel-indicators" role="tablist" aria-label="轮播图导航">
        <span class="indicator active" data-index="0" role="tab" aria-selected="true" aria-label="第1张"></span>
        <span class="indicator" data-index="1" role="tab" aria-selected="false" aria-label="第2张"></span>
    </div>
</nav>
```

---

## 📊 问题统计

| 优先级 | 问题数量 | 状态 |
|--------|----------|------|
| P0（严重） | 4 | ⚠️ 待修复 |
| P1（中等） | 6 | ⚠️ 待修复 |
| P2（轻微） | 4 | ⏸️ 可延后 |
| P3（优化） | 3 | ⏸️ 可选 |

**总计**：17 个问题

---

## 🎯 修复优先级建议

### 第一阶段（立即修复）：
1. ✅ PC版轮播图侵占时间线区域
2. ✅ 移动端轮播图超出边界
3. ✅ 移动端底部导航文字截断
4. ✅ 移动端轮播图左侧裁切

### 第二阶段（本周内修复）：
5. ✅ 轮播图指示器位置异常
6. ✅ 移动端日期按钮宽度过大
7. ✅ CTA 按钮触控区域不足
8. ✅ 字体层级混乱
9. ✅ 横向滚动保护
10. ✅ 快速导航列表空间占用

### 第三阶段（下个版本）：
11. ✅ 色彩系统统一
12. ✅ 间距和对齐优化
13. ✅ 地图控件触控目标
14. ✅ 图标文字对齐

### 第四阶段（持续优化）：
15. ✅ 轮播图滑动提示
16. ✅ 图片加载优化
17. ✅ 无障碍支持

---

## 📝 修复检查清单

- [ ] 创建修复分支
- [ ] 修复 P0 问题（4个）
- [ ] 修复 P1 问题（6个）
- [ ] 在多种设备上测试（PC、平板、手机）
- [ ] 使用 Playwright 重新截图验证
- [ ] 让 ui-ux-designer 审查修复效果
- [ ] 代码审查
- [ ] 合并到主分支

---

## 🔗 相关文件

- **HTML**：`/Users/bukaixin/workspace/tours/2026年2月广西行/index.html`
- **CSS**：`/Users/bukaixin/workspace/tours/2026年2月广西行/css/style.css`
- **截图目录**：`/Users/bukaixin/workspace/tours/2026年2月广西行/screenshots/`
- **测试脚本**：`/Users/bukaixin/workspace/tours/test-screenshots.js`

---

**最后更新**：2026-01-28
**审查人**：待定
**状态**：待 ui-ux-designer 审查